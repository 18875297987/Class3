<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body {
            text-align: center;
        }
        h1 {
            font-size: 45px;
            color: #0096dc;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
<div id="app">
    <h1>管理员登录</h1>
    <el-card style="width: 600px;height: 300px;margin: 0 auto;
    background-color: rgba(255,255,255,0.3);">
        <el-form label-width="80px" style="width: 400px;margin: 50px auto">
            <el-form-item label="用户名：">
                <el-input type="text" placeholder="请输入用户名" v-model="user.username"></el-input>
            </el-form-item>
            <el-form-item label="密码：">
                <el-input type="password" placeholder="请输入密码" v-model="user.password"></el-input>
            </el-form-item>
            <el-form-item>
                <el-button type="primary" @click="login()">
                    登录
                </el-button>
            </el-form-item>
        </el-form>

    </el-card>
</div>
<link rel="stylesheet" href="https://cdn.staticfile.org/element-ui/2.15.9/theme-chalk/index.css">
<script src="js/axios.min.js"></script>
<script src="js/vue.min.js"></script>
<script src="js/index.min.js"></script>
<script>
    var v = new Vue({
        el: "#app",
        data: {
            user:{username:"",password:""}
        },
        methods: {
            login(){
                if (v.user.username == "" || v.user.password == ""){
                    this.$message.warning("请不要留有空输入框！")
                    return;
                }
                axios.post("/admin/login",v.user).then(result =>{
                    if (result.data == 601){
                        this.$message.error("用户名不存在")
                    }else if (result.data == 602){
                        this.$message.error("密码错误")
                    }else {
                        this.$alert('登录成功！','提示',{
                            confirmButtonText:'确定',
                            callback:action => {
                                location.href = "adminIndex.html";
                            }
                        })
                    }
                })

            }
        }
    })
</script>

</body>
</html>